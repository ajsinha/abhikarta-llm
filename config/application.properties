# ============================================================================
# Abhikarta-LLM Application Properties
# Version: 1.0.0
# ============================================================================
# Copyright Â© 2025-2030 Ashutosh Sinha. All Rights Reserved.
# Email: ajsinha@gmail.com
#
# This configuration file controls all aspects of the Abhikarta-LLM platform.
# Properties can be overridden by:
#   1. Command line arguments (--key=value) - highest priority
#   2. Environment variables
#   3. This file - lowest priority
#
# Use ${property.name} syntax for property references.
# Use ${property.name:default} for default values.
# ============================================================================

# ----------------------------------------------------------------------------
# Application Settings
# ----------------------------------------------------------------------------
app.name=Abhikarta-LLM
app.version=1.5.0
app.debug=false
app.secret.key=${SECRET_KEY:abhikarta-secret-key-change-in-production}

# ----------------------------------------------------------------------------
# Server Configuration
# ----------------------------------------------------------------------------
server.host=0.0.0.0
server.port=5000

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------
# Supported types: sqlite, postgresql
database.type=sqlite

# SQLite Configuration (for development/testing)
database.sqlite.path=./data/abhikarta.db

# PostgreSQL Configuration (for production)
database.postgresql.host=${PG_HOST:localhost}
database.postgresql.port=${PG_PORT:5432}
database.postgresql.database=${PG_DATABASE:abhikarta}
database.postgresql.user=${PG_USER:abhikarta_user}
database.postgresql.password=${PG_PASSWORD:}

# ----------------------------------------------------------------------------
# User Management
# ----------------------------------------------------------------------------
users.file=./data/users.json

# ----------------------------------------------------------------------------
# Session Configuration
# ----------------------------------------------------------------------------
session.lifetime.seconds=3600
flask.session.dir=./data/flask_session

# ----------------------------------------------------------------------------
# Logging Configuration
# ----------------------------------------------------------------------------
logging.level=INFO
logging.format=%(asctime)s - %(name)s - %(levelname)s - %(message)s
logging.file=./logs/abhikarta.log

# ----------------------------------------------------------------------------
# LLM Provider Configuration
# ----------------------------------------------------------------------------
llm.default.provider=openai

# OpenAI
llm.openai.enabled=true
llm.openai.api.key=${OPENAI_API_KEY:}
llm.openai.default.model=gpt-4o
llm.openai.fallback.model=gpt-3.5-turbo

# Anthropic
llm.anthropic.enabled=true
llm.anthropic.api.key=${ANTHROPIC_API_KEY:}
llm.anthropic.default.model=claude-3-5-sonnet-20241022

# Ollama (Local)
llm.ollama.enabled=true
llm.ollama.base.url=${OLLAMA_BASE_URL:http://localhost:11434}
llm.ollama.default.model=llama3

# AWS Bedrock
llm.bedrock.enabled=false
llm.bedrock.region=${AWS_REGION:us-east-1}
llm.bedrock.default.model=anthropic.claude-3-sonnet-20240229-v1:0

# ----------------------------------------------------------------------------
# MCP Plugin Configuration
# ----------------------------------------------------------------------------
mcp.plugins.dir=./data/mcp_plugins
mcp.server.names=

# ----------------------------------------------------------------------------
# Security Settings
# ----------------------------------------------------------------------------
security.cors.origins=*
security.rate.limit=100

# ----------------------------------------------------------------------------
# Monitoring
# ----------------------------------------------------------------------------
monitoring.prometheus.enabled=true
monitoring.metrics.path=/metrics

# ----------------------------------------------------------------------------
# UI Settings
# ----------------------------------------------------------------------------
ui.theme=bmo-dark
ui.items.per.page=10

# ----------------------------------------------------------------------------
# Agent Configuration
# ----------------------------------------------------------------------------
agent.execution.timeout.seconds=300
agent.max.concurrent.executions=10
agent.default.temperature=0.7

# ----------------------------------------------------------------------------
# HITL (Human-in-the-Loop) Configuration
# ----------------------------------------------------------------------------
hitl.enabled=true
hitl.default.timeout.minutes=30
hitl.notification.channels=email,in-app

# ----------------------------------------------------------------------------
# Actor System Configuration (Pekko-inspired)
# ----------------------------------------------------------------------------
# The Actor System enables highly concurrent, fault-tolerant agent execution.
# Actors provide message-driven processing, supervision hierarchies, and
# location transparency for running millions of agents at scale.

# System name (used for logging and identification)
actor.system.name=abhikarta-actors

# Default dispatcher configuration (shared thread pool for general actors)
actor.dispatcher.default.threads=8
actor.dispatcher.default.throughput=5

# I/O dispatcher configuration (for blocking operations like LLM calls)
actor.dispatcher.io.threads=16
actor.dispatcher.io.throughput=1

# Fork-join dispatcher (for CPU-bound computation)
actor.dispatcher.forkjoin.parallelism.min=4
actor.dispatcher.forkjoin.parallelism.max=16
actor.dispatcher.forkjoin.parallelism.factor=2.0

# Mailbox configuration
actor.mailbox.default.capacity=-1
actor.mailbox.bounded.capacity=1000
actor.mailbox.bounded.push.timeout.ms=10000

# Supervision defaults
actor.supervision.max.retries=3
actor.supervision.within.seconds=60

# Dead letter handling
actor.deadletter.logging=true
actor.deadletter.max.logged=100

# Scheduler configuration (for delayed/periodic messages)
actor.scheduler.tick.duration.ms=10
actor.scheduler.ticks.per.wheel=512

# Circuit breaker defaults (for fault tolerance)
actor.circuitbreaker.max.failures=5
actor.circuitbreaker.call.timeout.seconds=10
actor.circuitbreaker.reset.timeout.seconds=30

# ----------------------------------------------------------------------------
# Code Fragments Sync Configuration (v1.5.0)
# ----------------------------------------------------------------------------
# Enables syncing approved code fragments to a local Python package
# for standard imports: from code_fragments.module_name import func

# Enable/disable the sync service
code.fragments.enabled=true

# Target path for code_fragments package (default: ./code_fragments)
code.fragments.target.path=./code_fragments

# Sync interval in seconds (default: 300 = 5 minutes)
code.fragments.sync.interval.seconds=300

# Sync fragments when application starts
code.fragments.sync.on.startup=true

# Enable background watcher for periodic sync
code.fragments.watch.enabled=true

# Only sync fragments with these statuses (comma-separated)
code.fragments.status.filter=approved,published

# Reload strategy: graceful or immediate
code.fragments.reload.strategy=graceful

# Max wait time for graceful reload in seconds
code.fragments.max.wait.seconds=30

# S3 source configuration (optional)
code.fragments.s3.enabled=false
code.fragments.s3.bucket=
code.fragments.s3.prefix=

# Filesystem source configuration (optional)
code.fragments.filesystem.enabled=false
code.fragments.filesystem.paths=
