{
    "template_id": "script_react_agent",
    "name": "ReAct Research Agent",
    "description": "A research agent using the ReAct (Reasoning + Acting) pattern with custom tool classes",
    "entity_type": "agent",
    "agent_type": "react",
    "category": "research",
    "difficulty": "intermediate",
    "icon": "bi-search",
    "tags": [
        "agent",
        "react",
        "research",
        "tools"
    ],
    "use_count": 0,
    "script_content": "\"\"\"\nReAct Research Agent - Python Script Mode\n==========================================\nA research agent using the ReAct (Reasoning + Acting) pattern\nwith custom tool classes and iterative research capabilities.\n\nFeatures:\n- Custom Tool base class with concrete implementations\n- ReAct reasoning cycle\n- Confidence-scored research findings\n\"\"\"\n\nfrom typing import Dict, List, Any, Optional\nfrom dataclasses import dataclass, field\nfrom enum import Enum\nfrom abc import ABC, abstractmethod\n\n\n# ==============================================================================\n# ENUMS\n# ==============================================================================\n\nclass ConfidenceLevel(Enum):\n    \"\"\"Confidence level for research findings.\"\"\"\n    HIGH = \"high\"\n    MEDIUM = \"medium\"\n    LOW = \"low\"\n\n\nclass SourceType(Enum):\n    \"\"\"Type of information source.\"\"\"\n    WEB = \"web\"\n    DOCUMENT = \"document\"\n    DATABASE = \"database\"\n\n\n# ==============================================================================\n# TOOL CLASSES\n# ==============================================================================\n\nclass BaseTool(ABC):\n    \"\"\"Abstract base class for all tools.\"\"\"\n    \n    def __init__(self, name: str, description: str):\n        self.name = name\n        self.description = description\n        self._call_count = 0\n    \n    @abstractmethod\n    def execute(self, input_data: Dict[str, Any]) -> Dict[str, Any]:\n        \"\"\"Execute the tool with given input.\"\"\"\n        pass\n    \n    def __call__(self, input_data: Dict[str, Any]) -> Dict[str, Any]:\n        self._call_count += 1\n        return self.execute(input_data)\n\n\nclass WebSearchTool(BaseTool):\n    \"\"\"Web search tool implementation.\"\"\"\n    \n    def __init__(self):\n        super().__init__(\n            name=\"web_search\",\n            description=\"Search the web for information\"\n        )\n    \n    def execute(self, input_data: Dict[str, Any]) -> Dict[str, Any]:\n        query = input_data.get(\"query\", \"\")\n        return {\n            \"success\": True,\n            \"results\": [{\"title\": f\"Result for: {query}\", \"snippet\": \"...\"}],\n            \"query\": query\n        }\n\n\nclass SummarizerTool(BaseTool):\n    \"\"\"Text summarization tool.\"\"\"\n    \n    def __init__(self):\n        super().__init__(\n            name=\"summarize\",\n            description=\"Summarize long text\"\n        )\n    \n    def execute(self, input_data: Dict[str, Any]) -> Dict[str, Any]:\n        text = input_data.get(\"text\", \"\")\n        max_len = input_data.get(\"max_length\", 200)\n        summary = text[:max_len] + \"...\" if len(text) > max_len else text\n        return {\"success\": True, \"summary\": summary}\n\n\n# ==============================================================================\n# DATA CLASSES\n# ==============================================================================\n\n@dataclass\nclass ResearchFinding:\n    \"\"\"A single research finding.\"\"\"\n    content: str\n    source: str\n    source_type: SourceType\n    confidence: ConfidenceLevel\n    \n    def to_dict(self) -> Dict[str, Any]:\n        return {\n            \"content\": self.content,\n            \"source\": self.source,\n            \"source_type\": self.source_type.value,\n            \"confidence\": self.confidence.value\n        }\n\n\n@dataclass\nclass ResearchResult:\n    \"\"\"Complete research result.\"\"\"\n    query: str\n    findings: List[ResearchFinding] = field(default_factory=list)\n    summary: str = \"\"\n    iterations: int = 0\n    \n    def add_finding(self, finding: ResearchFinding):\n        self.findings.append(finding)\n    \n    def to_dict(self) -> Dict[str, Any]:\n        return {\n            \"query\": self.query,\n            \"findings\": [f.to_dict() for f in self.findings],\n            \"summary\": self.summary,\n            \"iterations\": self.iterations\n        }\n\n\n# ==============================================================================\n# CONFIGURATION\n# ==============================================================================\n\nSYSTEM_PROMPT = \"\"\"You are a research assistant using the ReAct pattern.\n\nYour approach:\n1. THINK: Analyze what information is needed\n2. ACT: Use appropriate tools to gather information  \n3. OBSERVE: Review the results\n4. REPEAT: Continue until sufficient information\n5. RESPOND: Synthesize findings\n\"\"\"\n\n# Initialize tools\nweb_search = WebSearchTool()\nsummarizer = SummarizerTool()\n\n\n# ==============================================================================\n# AGENT DEFINITION\n# ==============================================================================\n\nagent = {\n    \"name\": \"ReAct Research Agent\",\n    \"description\": \"Research agent using ReAct pattern\",\n    \"agent_type\": \"react\",\n    \"version\": \"1.0.0\",\n    \n    \"system_prompt\": SYSTEM_PROMPT,\n    \"tools\": [\"web_search\", \"summarize\"],\n    \n    \"llm_config\": {\n        \"provider\": \"ollama\",\n        \"model\": \"llama3.2:3b\",\n        \"temperature\": 0.3,\n        \"max_tokens\": 2048\n    },\n    \n    \"hitl_config\": {\n        \"enabled\": True,\n        \"approval_required\": False\n    },\n    \n    \"tags\": [\"research\", \"react\", \"tools\", \"python-script\"],\n    \"category\": \"research\"\n}\n\n\n# ==============================================================================\n# EXPORT\n# ==============================================================================\n\n__export__ = agent\n\n\n# ==============================================================================\n# EXECUTION LOGIC\n# ==============================================================================\n\ndef execute(input_data: Dict[str, Any]) -> Dict[str, Any]:\n    \"\"\"Execute the ReAct research agent.\"\"\"\n    query = input_data.get(\"prompt\", input_data.get(\"query\", \"\"))\n    max_iterations = input_data.get(\"max_iterations\", 3)\n    \n    result = ResearchResult(query=query)\n    \n    for iteration in range(max_iterations):\n        result.iterations += 1\n        \n        # Search\n        search_result = web_search({\"query\": query})\n        \n        if search_result.get(\"success\"):\n            for item in search_result.get(\"results\", []):\n                finding = ResearchFinding(\n                    content=item.get(\"snippet\", \"\"),\n                    source=item.get(\"title\", \"\"),\n                    source_type=SourceType.WEB,\n                    confidence=ConfidenceLevel.MEDIUM\n                )\n                result.add_finding(finding)\n        \n        if len(result.findings) >= 3:\n            break\n    \n    # Summarize\n    combined = \" \".join([f.content for f in result.findings])\n    summary_result = summarizer({\"text\": combined})\n    result.summary = summary_result.get(\"summary\", \"\")\n    \n    return {\n        \"success\": True,\n        \"response\": result.summary,\n        \"result\": result.to_dict()\n    }\n\n\ndef validate() -> tuple:\n    \"\"\"Validate the agent configuration.\"\"\"\n    if not agent.get(\"name\"):\n        return False, \"Agent must have a name\"\n    return True, \"ReAct Agent configuration is valid\"\n"
}