{% extends "base.html" %}

{% block title %}{{ agent.name }} - {{ app_name }}{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <div class="row">
        <div class="col-lg-10 mx-auto">
            <nav aria-label="breadcrumb" class="mb-3">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="{{ url_for('user_agents') }}">My Agents</a></li>
                    <li class="breadcrumb-item active">{{ agent.name }}</li>
                </ol>
            </nav>
            
            <div class="card mb-4">
                <div class="card-header bg-bmo-blue text-white d-flex justify-content-between align-items-center">
                    <h5 class="mb-0"><i class="bi bi-robot me-2"></i>{{ agent.name }}</h5>
                    <div>
                        {% if agent.status == 'published' %}
                        <span class="badge bg-success">Published</span>
                        {% elif agent.status == 'draft' %}
                        <span class="badge bg-warning">Draft</span>
                        {% else %}
                        <span class="badge bg-secondary">{{ agent.status }}</span>
                        {% endif %}
                    </div>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <p><strong>Agent ID:</strong> <code>{{ agent.agent_id }}</code></p>
                            <p><strong>Type:</strong> {{ agent.agent_type }}</p>
                            <p><strong>Version:</strong> {{ agent.version }}</p>
                        </div>
                        <div class="col-md-6">
                            <p><strong>LLM Provider:</strong> {{ agent.llm_config.provider if agent.llm_config else 'Not configured' }}</p>
                            <p><strong>Model:</strong> {{ agent.llm_config.model if agent.llm_config else 'Not configured' }}</p>
                            <p><strong>Created:</strong> {{ agent.created_at }}</p>
                        </div>
                    </div>
                    
                    <div class="mt-3">
                        <p><strong>Description:</strong></p>
                        <p class="text-muted">{{ agent.description or 'No description provided.' }}</p>
                    </div>
                    
                    <div class="d-flex gap-2 mt-3">
                        <a href="{{ url_for('execute_agent', agent_id=agent.agent_id) }}" class="btn btn-primary">
                            <i class="bi bi-play-fill me-2"></i>Execute
                        </a>
                    </div>
                </div>
            </div>
            
            {% if agent.system_prompt %}
            <div class="card mb-4">
                <div class="card-header">
                    <h5 class="mb-0"><i class="bi bi-chat-quote me-2"></i>System Prompt</h5>
                </div>
                <div class="card-body">
                    <pre class="bg-light p-3 rounded"><code>{{ agent.system_prompt }}</code></pre>
                </div>
            </div>
            {% endif %}
            
            {% if agent.tools %}
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0"><i class="bi bi-tools me-2"></i>Enabled Tools</h5>
                </div>
                <div class="card-body">
                    <div class="d-flex flex-wrap gap-2">
                        {% for tool in agent.tools %}
                        <span class="badge bg-info">{{ tool }}</span>
                        {% endfor %}
                    </div>
                </div>
            </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
