{% extends "help/help_base.html" %}

{% set title = "Banking Industry Solutions" %}
{% set description = "Pre-built tools, agents, and workflows for banking operations" %}
{% set icon = "bi-bank" %}
{% set header_color = "#198754" %}
{% set header_color_dark = "#146c43" %}

{% block help_nav %}
<a href="#overview">Overview</a>
<a href="#tools">Banking Tools</a>
<a href="#agents">Pre-built Agents</a>
<a href="#workflows">Workflows</a>
<a href="#customization">Customization</a>
<a href="#compliance">Compliance</a>
{% endblock %}

{% block help_content %}
<h2 id="overview">Banking Industry Solutions Overview</h2>
<p class="lead">Abhikarta provides a comprehensive suite of pre-built tools, agents, and workflows specifically designed for the banking and financial services industry.</p>

<div class="alert alert-success">
    <i class="bi bi-check-circle me-2"></i>
    <strong>Ready to Use:</strong> All banking solutions are production-ready and can be cloned, customized, and deployed immediately.
</div>

<div class="row g-4 mb-5">
    <div class="col-md-3">
        <div class="card text-center h-100 border-primary">
            <div class="card-body">
                <i class="bi bi-tools text-primary" style="font-size: 2.5rem;"></i>
                <h3 class="mt-2">13+</h3>
                <p class="text-muted mb-0">Banking Tools</p>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card text-center h-100 border-success">
            <div class="card-body">
                <i class="bi bi-robot text-success" style="font-size: 2.5rem;"></i>
                <h3 class="mt-2">6+</h3>
                <p class="text-muted mb-0">Pre-built Agents</p>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card text-center h-100 border-info">
            <div class="card-body">
                <i class="bi bi-diagram-3 text-info" style="font-size: 2.5rem;"></i>
                <h3 class="mt-2">4+</h3>
                <p class="text-muted mb-0">Workflows</p>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card text-center h-100 border-warning">
            <div class="card-body">
                <i class="bi bi-shield-check text-warning" style="font-size: 2.5rem;"></i>
                <h3 class="mt-2">100%</h3>
                <p class="text-muted mb-0">Compliance Ready</p>
            </div>
        </div>
    </div>
</div>

<hr class="my-5">

<h2 id="tools">Banking Tools Library</h2>
<p>Comprehensive set of tools for banking operations, organized by function:</p>

<div class="accordion" id="toolsAccordion">
    <!-- KYC Tools -->
    <div class="accordion-item">
        <h2 class="accordion-header">
            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#kycTools">
                <i class="bi bi-person-badge me-2"></i> KYC Verification Tools
            </button>
        </h2>
        <div id="kycTools" class="accordion-collapse collapse show" data-bs-parent="#toolsAccordion">
            <div class="accordion-body">
                <table class="table table-bordered">
                    <thead class="table-dark">
                        <tr><th>Tool</th><th>Description</th><th>Key Parameters</th></tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>verify_identity_document</code></td>
                            <td>Validate identity documents (passport, driver's license, national ID)</td>
                            <td>document_type, document_number, issuing_country, expiry_date</td>
                        </tr>
                        <tr>
                            <td><code>calculate_kyc_risk_score</code></td>
                            <td>Calculate customer KYC risk based on multiple factors</td>
                            <td>customer_data (country, is_pep, occupation, income_source)</td>
                        </tr>
                        <tr>
                            <td><code>verify_address</code></td>
                            <td>Validate and standardize customer address</td>
                            <td>street, city, postal_code, country</td>
                        </tr>
                        <tr>
                            <td><code>check_sanctions_list</code></td>
                            <td>Screen against OFAC, UN, EU, UK sanctions lists</td>
                            <td>entity_name, entity_type</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Credit Tools -->
    <div class="accordion-item">
        <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#creditTools">
                <i class="bi bi-graph-up me-2"></i> Credit Assessment Tools
            </button>
        </h2>
        <div id="creditTools" class="accordion-collapse collapse" data-bs-parent="#toolsAccordion">
            <div class="accordion-body">
                <table class="table table-bordered">
                    <thead class="table-dark">
                        <tr><th>Tool</th><th>Description</th><th>Key Parameters</th></tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>calculate_credit_score</code></td>
                            <td>Calculate FICO-like credit score from credit data</td>
                            <td>payment_history, credit_utilization, credit_history_years, credit_types, recent_inquiries</td>
                        </tr>
                        <tr>
                            <td><code>assess_debt_to_income</code></td>
                            <td>Calculate and rate debt-to-income ratio</td>
                            <td>monthly_income, monthly_debts</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Loan Tools -->
    <div class="accordion-item">
        <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#loanTools">
                <i class="bi bi-cash-stack me-2"></i> Loan Processing Tools
            </button>
        </h2>
        <div id="loanTools" class="accordion-collapse collapse" data-bs-parent="#toolsAccordion">
            <div class="accordion-body">
                <table class="table table-bordered">
                    <thead class="table-dark">
                        <tr><th>Tool</th><th>Description</th><th>Key Parameters</th></tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>calculate_loan_eligibility</code></td>
                            <td>Determine loan eligibility and maximum amount</td>
                            <td>credit_score, monthly_income, employment_years, dti_ratio, requested_amount</td>
                        </tr>
                        <tr>
                            <td><code>generate_amortization_schedule</code></td>
                            <td>Generate complete loan payment schedule</td>
                            <td>principal, annual_rate, term_months, start_date</td>
                        </tr>
                        <tr>
                            <td><code>calculate_loan_emi</code></td>
                            <td>Calculate EMI (Equated Monthly Installment)</td>
                            <td>principal, annual_rate, tenure_months</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Transaction Tools -->
    <div class="accordion-item">
        <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#transactionTools">
                <i class="bi bi-arrow-left-right me-2"></i> Transaction Analysis Tools
            </button>
        </h2>
        <div id="transactionTools" class="accordion-collapse collapse" data-bs-parent="#toolsAccordion">
            <div class="accordion-body">
                <table class="table table-bordered">
                    <thead class="table-dark">
                        <tr><th>Tool</th><th>Description</th><th>Key Parameters</th></tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>analyze_transaction</code></td>
                            <td>Analyze single transaction for fraud indicators</td>
                            <td>amount, type, timestamp, is_international, destination_country</td>
                        </tr>
                        <tr>
                            <td><code>detect_transaction_patterns</code></td>
                            <td>Detect structuring, velocity anomalies, and other patterns</td>
                            <td>transactions (array of transaction records)</td>
                        </tr>
                        <tr>
                            <td><code>calculate_transaction_limits</code></td>
                            <td>Calculate applicable transaction limits</td>
                            <td>account_type, kyc_level, account_age_months</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Compliance Tools -->
    <div class="accordion-item">
        <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#complianceTools">
                <i class="bi bi-shield-check me-2"></i> Compliance Tools
            </button>
        </h2>
        <div id="complianceTools" class="accordion-collapse collapse" data-bs-parent="#toolsAccordion">
            <div class="accordion-body">
                <table class="table table-bordered">
                    <thead class="table-dark">
                        <tr><th>Tool</th><th>Description</th><th>Key Parameters</th></tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>generate_aml_report</code></td>
                            <td>Generate Anti-Money Laundering compliance report</td>
                            <td>customer_id, transactions, reporting_period</td>
                        </tr>
                        <tr>
                            <td><code>validate_regulatory_compliance</code></td>
                            <td>Validate against KYC, AML, CDD requirements</td>
                            <td>account_data (identity_verified, sanctions_checked, pep_checked)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<hr class="my-5">

<h2 id="agents">Pre-built Banking Agents</h2>
<p>Ready-to-use AI agents for common banking operations:</p>

<div class="row g-4">
    <div class="col-md-6">
        <div class="card h-100 border-primary">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0"><i class="bi bi-person-badge me-2"></i>KYC Verification Agent</h5>
            </div>
            <div class="card-body">
                <p>Automated Know Your Customer verification including:</p>
                <ul>
                    <li>Identity document validation</li>
                    <li>Address verification</li>
                    <li>Sanctions and PEP screening</li>
                    <li>Risk score calculation</li>
                    <li>EDD recommendations</li>
                </ul>
                <span class="badge bg-success">Production Ready</span>
                <span class="badge bg-info">Compliance Focused</span>
            </div>
            <div class="card-footer">
                <small class="text-muted">Agent ID: <code>banking_kyc_verification</code></small>
            </div>
        </div>
    </div>

    <div class="col-md-6">
        <div class="card h-100 border-success">
            <div class="card-header bg-success text-white">
                <h5 class="mb-0"><i class="bi bi-cash me-2"></i>Loan Processing Agent</h5>
            </div>
            <div class="card-body">
                <p>Intelligent loan application processing:</p>
                <ul>
                    <li>Credit score evaluation</li>
                    <li>DTI ratio calculation</li>
                    <li>Eligibility determination</li>
                    <li>Rate recommendation</li>
                    <li>Amortization schedule generation</li>
                </ul>
                <span class="badge bg-success">Production Ready</span>
                <span class="badge bg-warning text-dark">Underwriting</span>
            </div>
            <div class="card-footer">
                <small class="text-muted">Agent ID: <code>banking_loan_processor</code></small>
            </div>
        </div>
    </div>

    <div class="col-md-6">
        <div class="card h-100 border-danger">
            <div class="card-header bg-danger text-white">
                <h5 class="mb-0"><i class="bi bi-shield-exclamation me-2"></i>Fraud Detection Agent</h5>
            </div>
            <div class="card-body">
                <p>Real-time fraud detection and prevention:</p>
                <ul>
                    <li>Transaction risk analysis</li>
                    <li>Pattern detection (structuring, velocity)</li>
                    <li>Geographic anomaly detection</li>
                    <li>Alert generation</li>
                    <li>SAR recommendations</li>
                </ul>
                <span class="badge bg-success">Production Ready</span>
                <span class="badge bg-danger">Security Critical</span>
            </div>
            <div class="card-footer">
                <small class="text-muted">Agent ID: <code>banking_fraud_detection</code></small>
            </div>
        </div>
    </div>

    <div class="col-md-6">
        <div class="card h-100 border-info">
            <div class="card-header bg-info text-white">
                <h5 class="mb-0"><i class="bi bi-headset me-2"></i>Customer Service Agent</h5>
            </div>
            <div class="card-body">
                <p>Intelligent customer support for banking:</p>
                <ul>
                    <li>Account inquiries</li>
                    <li>Product information</li>
                    <li>Transaction disputes</li>
                    <li>Rate calculations</li>
                    <li>Escalation handling</li>
                </ul>
                <span class="badge bg-success">Production Ready</span>
                <span class="badge bg-info">Customer Facing</span>
            </div>
            <div class="card-footer">
                <small class="text-muted">Agent ID: <code>banking_customer_service</code></small>
            </div>
        </div>
    </div>

    <div class="col-md-6">
        <div class="card h-100 border-warning">
            <div class="card-header bg-warning text-dark">
                <h5 class="mb-0"><i class="bi bi-graph-up-arrow me-2"></i>Credit Risk Agent</h5>
            </div>
            <div class="card-body">
                <p>Advanced credit risk assessment:</p>
                <ul>
                    <li>Credit score analysis</li>
                    <li>Financial health evaluation</li>
                    <li>Risk tier classification</li>
                    <li>Pricing recommendations</li>
                    <li>Mitigation strategies</li>
                </ul>
                <span class="badge bg-success">Production Ready</span>
                <span class="badge bg-warning text-dark">Risk Management</span>
            </div>
            <div class="card-footer">
                <small class="text-muted">Agent ID: <code>banking_credit_risk</code></small>
            </div>
        </div>
    </div>

    <div class="col-md-6">
        <div class="card h-100 border-secondary">
            <div class="card-header bg-secondary text-white">
                <h5 class="mb-0"><i class="bi bi-person-plus me-2"></i>Account Opening Agent</h5>
            </div>
            <div class="card-body">
                <p>Guided account opening experience:</p>
                <ul>
                    <li>Product recommendation</li>
                    <li>Information collection</li>
                    <li>Document verification</li>
                    <li>Account configuration</li>
                    <li>Welcome onboarding</li>
                </ul>
                <span class="badge bg-success">Production Ready</span>
                <span class="badge bg-secondary">Onboarding</span>
            </div>
            <div class="card-footer">
                <small class="text-muted">Agent ID: <code>banking_account_opening</code></small>
            </div>
        </div>
    </div>
</div>

<hr class="my-5">

<h2 id="workflows">Banking Workflows</h2>
<p>End-to-end automated workflows for complex banking processes:</p>

<div class="row g-4">
    <div class="col-12">
        <div class="card border-primary">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0"><i class="bi bi-diagram-3 me-2"></i>Loan Application Processing Workflow</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-8">
                        <h6>Workflow Steps:</h6>
                        <ol>
                            <li><strong>Application Validation</strong> - Verify contact information and required fields</li>
                            <li><strong>Credit Assessment</strong> - Calculate credit score and analyze history</li>
                            <li><strong>DTI Calculation</strong> - Compute debt-to-income ratio</li>
                            <li><strong>Eligibility Check</strong> - Determine loan eligibility and max amount</li>
                            <li><strong>Decision Routing</strong> - Auto-approve, manual review, or decline</li>
                            <li><strong>Document Generation</strong> - Approval letter or adverse action notice</li>
                            <li><strong>Amortization Schedule</strong> - Generate payment schedule for approvals</li>
                        </ol>
                    </div>
                    <div class="col-md-4">
                        <h6>Features:</h6>
                        <ul class="list-unstyled">
                            <li><i class="bi bi-check-circle text-success me-2"></i>Auto-approval for qualified applicants</li>
                            <li><i class="bi bi-check-circle text-success me-2"></i>HITL for edge cases</li>
                            <li><i class="bi bi-check-circle text-success me-2"></i>Compliant decline notices</li>
                            <li><i class="bi bi-check-circle text-success me-2"></i>Full audit trail</li>
                        </ul>
                        <span class="badge bg-primary">12 Nodes</span>
                        <span class="badge bg-info">HITL Enabled</span>
                    </div>
                </div>
            </div>
            <div class="card-footer">
                <small class="text-muted">Workflow ID: <code>banking_loan_application</code></small>
            </div>
        </div>
    </div>

    <div class="col-12">
        <div class="card border-success">
            <div class="card-header bg-success text-white">
                <h5 class="mb-0"><i class="bi bi-person-check me-2"></i>Customer Onboarding Workflow</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-8">
                        <h6>Workflow Steps:</h6>
                        <ol>
                            <li><strong>Information Validation</strong> - Validate customer data completeness</li>
                            <li><strong>Contact Verification</strong> - Verify email and phone (parallel)</li>
                            <li><strong>Identity Verification</strong> - Validate identity documents</li>
                            <li><strong>Address Verification</strong> - Validate and standardize address</li>
                            <li><strong>Sanctions Screening</strong> - Check against sanctions lists</li>
                            <li><strong>KYC Risk Assessment</strong> - Calculate customer risk score</li>
                            <li><strong>Risk-Based Routing</strong> - Auto-approve or EDD review</li>
                            <li><strong>Account Generation</strong> - Create account number</li>
                            <li><strong>Welcome Communication</strong> - Generate personalized welcome</li>
                        </ol>
                    </div>
                    <div class="col-md-4">
                        <h6>Features:</h6>
                        <ul class="list-unstyled">
                            <li><i class="bi bi-check-circle text-success me-2"></i>Parallel validation</li>
                            <li><i class="bi bi-check-circle text-success me-2"></i>Risk-based routing</li>
                            <li><i class="bi bi-check-circle text-success me-2"></i>EDD for high-risk</li>
                            <li><i class="bi bi-check-circle text-success me-2"></i>Personalized onboarding</li>
                        </ul>
                        <span class="badge bg-success">15 Nodes</span>
                        <span class="badge bg-info">HITL Enabled</span>
                    </div>
                </div>
            </div>
            <div class="card-footer">
                <small class="text-muted">Workflow ID: <code>banking_customer_onboarding</code></small>
            </div>
        </div>
    </div>

    <div class="col-12">
        <div class="card border-danger">
            <div class="card-header bg-danger text-white">
                <h5 class="mb-0"><i class="bi bi-exclamation-triangle me-2"></i>Transaction Monitoring Workflow</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-8">
                        <h6>Workflow Steps:</h6>
                        <ol>
                            <li><strong>Transaction Analysis</strong> - Analyze for fraud indicators</li>
                            <li><strong>Limit Checking</strong> - Verify against account limits</li>
                            <li><strong>Risk-Based Routing</strong> - Allow, challenge, or block</li>
                            <li><strong>Pattern Detection</strong> - Identify suspicious patterns</li>
                            <li><strong>AML Report Generation</strong> - Generate compliance reports</li>
                            <li><strong>Investigation Routing</strong> - Route to fraud investigation team</li>
                            <li><strong>Transaction Logging</strong> - Complete audit trail</li>
                        </ol>
                    </div>
                    <div class="col-md-4">
                        <h6>Features:</h6>
                        <ul class="list-unstyled">
                            <li><i class="bi bi-check-circle text-success me-2"></i>Real-time analysis</li>
                            <li><i class="bi bi-check-circle text-success me-2"></i>Structuring detection</li>
                            <li><i class="bi bi-check-circle text-success me-2"></i>Auto SAR generation</li>
                            <li><i class="bi bi-check-circle text-success me-2"></i>Investigation workflow</li>
                        </ul>
                        <span class="badge bg-danger">14 Nodes</span>
                        <span class="badge bg-info">HITL Enabled</span>
                    </div>
                </div>
            </div>
            <div class="card-footer">
                <small class="text-muted">Workflow ID: <code>banking_transaction_monitoring</code></small>
            </div>
        </div>
    </div>

    <div class="col-12">
        <div class="card border-warning">
            <div class="card-header bg-warning text-dark">
                <h5 class="mb-0"><i class="bi bi-house me-2"></i>Mortgage Application Workflow</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-8">
                        <h6>Workflow Steps:</h6>
                        <ol>
                            <li><strong>Pre-qualification</strong> - Initial eligibility screening</li>
                            <li><strong>Credit Assessment</strong> - Full credit analysis</li>
                            <li><strong>DTI Calculation</strong> - Debt ratio computation</li>
                            <li><strong>Income Verification</strong> - Document review (HITL)</li>
                            <li><strong>Property Appraisal</strong> - Order and review appraisal (HITL)</li>
                            <li><strong>LTV Calculation</strong> - Loan-to-value ratio</li>
                            <li><strong>Underwriting Decision</strong> - Final approval decision</li>
                            <li><strong>Document Generation</strong> - Commitment or adverse action</li>
                            <li><strong>Closing Scheduling</strong> - Coordinate closing</li>
                        </ol>
                    </div>
                    <div class="col-md-4">
                        <h6>Features:</h6>
                        <ul class="list-unstyled">
                            <li><i class="bi bi-check-circle text-success me-2"></i>Full underwriting</li>
                            <li><i class="bi bi-check-circle text-success me-2"></i>Appraisal integration</li>
                            <li><i class="bi bi-check-circle text-success me-2"></i>LTV/PMI calculation</li>
                            <li><i class="bi bi-check-circle text-success me-2"></i>Closing coordination</li>
                        </ul>
                        <span class="badge bg-warning text-dark">13 Nodes</span>
                        <span class="badge bg-info">HITL Enabled</span>
                    </div>
                </div>
            </div>
            <div class="card-footer">
                <small class="text-muted">Workflow ID: <code>banking_mortgage_application</code></small>
            </div>
        </div>
    </div>
</div>

<hr class="my-5">

<h2 id="customization">Customization Guide</h2>
<p>All banking solutions can be customized to match your specific requirements:</p>

<div class="row g-4">
    <div class="col-md-6">
        <div class="card h-100">
            <div class="card-header">
                <h5 class="mb-0">Cloning an Agent</h5>
            </div>
            <div class="card-body">
<pre><code class="language-python"># Clone and customize a banking agent
from abhikarta.agent import AgentManager

manager = AgentManager()

# Clone the KYC agent
new_agent = manager.clone_agent(
    source_id="banking_kyc_verification",
    new_name="My KYC Agent",
    modifications={
        "system_prompt": "Custom instructions...",
        "temperature": 0.2
    }
)

# Update tools
new_agent.tools.append("custom_tool")
manager.save_agent(new_agent)</code></pre>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="card h-100">
            <div class="card-header">
                <h5 class="mb-0">Customizing a Workflow</h5>
            </div>
            <div class="card-body">
<pre><code class="language-python"># Clone and modify a workflow
from abhikarta.workflow import WorkflowManager

manager = WorkflowManager()

# Clone the loan application workflow
workflow = manager.clone_workflow(
    source_id="banking_loan_application"
)

# Add a custom node
workflow.add_node({
    "id": "custom_check",
    "type": "tool",
    "name": "Custom Verification",
    "config": {"tool_name": "my_custom_tool"}
})

# Modify routing conditions
workflow.update_condition(
    "decision_router", 
    "eligibility_score >= 75"
)

manager.save_workflow(workflow)</code></pre>
            </div>
        </div>
    </div>
</div>

<hr class="my-5">

<h2 id="compliance">Compliance Considerations</h2>
<p>These banking solutions are designed with compliance in mind:</p>

<div class="row g-4">
    <div class="col-md-4">
        <div class="card h-100 text-center">
            <div class="card-body">
                <i class="bi bi-shield-lock text-primary" style="font-size: 2.5rem;"></i>
                <h5 class="mt-3">KYC/AML</h5>
                <p class="text-muted">Full KYC verification, sanctions screening, and AML monitoring capabilities</p>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card h-100 text-center">
            <div class="card-body">
                <i class="bi bi-clipboard-check text-success" style="font-size: 2.5rem;"></i>
                <h5 class="mt-3">Audit Trails</h5>
                <p class="text-muted">Complete logging of all decisions and actions for regulatory review</p>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card h-100 text-center">
            <div class="card-body">
                <i class="bi bi-person-check text-info" style="font-size: 2.5rem;"></i>
                <h5 class="mt-3">HITL Controls</h5>
                <p class="text-muted">Human oversight for critical decisions with approval workflows</p>
            </div>
        </div>
    </div>
</div>

<div class="alert alert-warning mt-4">
    <h5><i class="bi bi-exclamation-triangle me-2"></i>Important Disclaimer</h5>
    <p class="mb-0">These pre-built solutions are starting points and should be reviewed by your compliance team before production deployment. Ensure all workflows meet your specific regulatory requirements (e.g., GDPR, CCPA, BSA, FCRA).</p>
</div>

{% endblock %}
